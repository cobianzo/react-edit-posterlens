{"version":3,"sources":["components/App.js","components/AppDemoPosterlens.js","components/InputData.js","components/EditObject2.js","components/ListObjects.js","components/Widgets.js","helpers.js","components/ObjectInfo.js","components/AppEditPosterlens.js","index.js"],"names":["App","useEffect","console","log","window","PANOLENS","THREE","eval","stopAllAnimations","useState","location","hash","appMode","setAppMode","data","AppDemoPosterlens","refContainer","createRef","retrievedOptions","JSON","parse","localStorage","getItem","worlds","error","pl","document","querySelector","posterlens","viewer","panorama","addEventListener","panolensPanoInstance","scene","getScene","createViewer","className","onDoubleClick","onClick","id","ref","Input","p","wrapperUpdateObjectSingleData","value","theValue","input","deleteIfValue","fieldPair","option","scale","currentObject3D","x","updateObjectSingleData","name","type","InputGroup","Prepend","Text","label","extensions","dims","minWidth","maxWidth","minHeight","maxHeight","onChange","base64","imgPath","onError","errMsg","alert","Button","variant","e","Append","getOptionsByObject3D","onSubmit","preventDefault","currentTarget","FormControl","as","defaultValue","Form","Check","step","Group","defaultChecked","checkedValue","checked","uncheckedValue","target","key","options","Object","keys","map","viewInput","EditObject2","plImgPath","setImgPath","refImgPathInput","v","renderer","domElement","event","handlerPickupObject","selectedObj","newPos","reactGetMouse3Dposition","Vector3","normalize","multiplyScalar","distance","y","z","setObjectPos","handlerDropObject","handlerScaleRotateObject","plOptions","isEditMode","shiftIsPressed","intersects","raycaster","intersectObject","theObj","object","startsWith","camera","position","distanceTo","OrbitControls","enabled","originalPos","selectObject","singleObject3DToParams","lastSelectedObj","ctrlKey","set","editParams","SCALE_FACTOR","rotation","ROTATE_DEG","z_move","constructor","setInfo","setCurrentObject3D","waitSave","clearTimeout","setTimeout","object3D","direction","offset","clone","warn","panoList","forEach","world","inputs","active","Container","style","marginTop","role","aria-label","current","Row","inputsCol","col_i","Col","sm","i","includes","ListObjects","init","setInit","getCurrentPanoramaParams","hotspots","element","getObjectByName","getCameraDirection","join","Math","round","fov","currentMouse3DPosition","objectsToPopupWhenVisible","k","min","max","Widgets","isWidgetsInit","setIsWidgetsInit","basePath","Array","from","appendControlItem","backgroundImage","float","onTap","initNewObject","newObj","objectData","group","countResets","params","floor","random","pos","values","getWorldDirection","image","posterSphere","text","fontFamily","createNewObjectFromParams","worldParams","push","newPlOptions","plOptionsReplaceWorldParams","setPlOptions","round2","fl","numb","toFixed","ObjectInfo","currentObjectOptions","find","ht","alwaysLookatCamera","objectOptions","lines","stringify","split","jsx","line","currentObjectOptionsJSX","AppEditPosterlens","globalVars","setIsEditMode","POSTERLENS_CONTAINER_ID","AUTO_START_EDIT_MODE","setEditParams","countRestarts","setCountRestarts","info","refContainerParent","setItem","length","point","getWorldPosition","sub","currentMP","assign","posterlensConfig","o","lso","selObj","restartViewer","innerHTML","currentWorldOptions","w","getCurrentPanoramaParamsIndex","findIndex","newOptions","plOptionsReplaceWorldParamsHotspot","currentWorldParams","getHotspotIndex","newHotspots","syncPlOptionsAndLocalStorage","exportStr","onSavePlOptionsCallback","objectCurrentParams","objectNewParams","rot","defaults","mapParams","emissive","transparent","color","obFields","currentField","field","replace","hasOwnProperty","editMode","Fragment","textA","createElement","textContent","width","height","Modal","exportToTextarea","currentWorldOptionsIndex","newPlOptionsHotspots","hotspotIndex","splice","newO","remove","getChildByName","onMouseMove","fields","regenerate","objectHotspotIndex","newObject","querySelectorAll","el","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9fa3eb1c.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport AppDemoPosterlens from './AppDemoPosterlens';\nimport AppEditPosterlens from './AppEditPosterlens';\n\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nexport default function App() {\n  \n  useEffect( () => {\n    console.log(`THREE and PANOLENS: ${window.PANOLENS}`,window.THREE);\n    window.THREE = eval('THREE');\n    window.PANOLENS = eval('PANOLENS');\n    window.stopAllAnimations = window.stopAllAnimations;\n  }, []);\n\n  const [appMode, setAppMode] = useState(window.location.hash === '#edit'? 'edit' : 'demo');\n  \n  var data = window.data; // defined outside react, in the html calling this app\n\n//  return \"TESTING\";\n  return appMode === 'edit' ?  <AppEditPosterlens data={data} setAppMode={setAppMode} /> : \n                               <AppDemoPosterlens data={data} setAppMode={setAppMode} />;\n  \n}","import React, {useEffect, createRef} from 'react'\n\nfunction AppDemoPosterlens( { data, setAppMode } ) {\n    \n    var refContainer = createRef();\n\n    useEffect(() => {\n        console.log('hello from useEffect in App');\n        // create the interactive 3d viewer with posterlens\n        createViewer(data);\n      }, []);\n\n    // CALL to posTERLENS\n    function createViewer(data) {\n        var posterlensConfig = {}\n        if (!data) console.log('data variable not found.')\n        else posterlensConfig = data; // `data` is loaded with external file tat sets up `var data = {..}`\n            \n        // load from cache by default\n        var retrievedOptions = JSON.parse( localStorage.getItem('pl.o') ); //retrieve the object to load cache\n\n        data = (retrievedOptions?.worlds) ? retrievedOptions : data;\n        if (!data) {\n        console.error('No data loaded. Cant initialize');\n        return;\n        }\n\n        // CALL POSTERLENS\n        window.pl = document.querySelector('#posterlens-container').posterlens( data );\n        window.pl.viewer.panorama.addEventListener('load', (panolensPanoInstance) => {\n            console.log(`üéâüéâüéâüéâüéâüéâüéâüéâ`, panolensPanoInstance);\n        });\n        window.scene = window.pl.viewer.getScene();\n    }\n\n\n\n    return (\n        <div className='container'>\n            <h1 onDoubleClick={()=> setAppMode('edit')} >Demo  \n                { window.location.hash === '#edit'? \n                    <button className='btn btn-sm btn-primary' onClick={ ()=> setAppMode('edit') }>Back</button>\n                    : null }\n            </h1> \n            <div className='posterlens-container' id='posterlens-container' ref={refContainer}></div>\n        </div>\n    )\n}\n\nexport default AppDemoPosterlens\n","import React from 'react'\n\nimport Button from 'react-bootstrap/Button';\n\nimport { FilePicker } from 'react-file-picker'\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Form from 'react-bootstrap/Form';\n\nexport default function Input(p) {\n\n    const wrapperUpdateObjectSingleData = function (value) {\n        let theValue = value === p.input.deleteIfValue ? null : value; // with this we will remove the option from the params.\n        const fieldPair = { [p.input.option] : theValue };\n        // special fields that need special treatment\n        if ( p.input.option === 'background' && theValue === '' ) fieldPair[p.input.option] = 'transparent'; // no bg color => background: 'transparent'\n        if ( p.input.option === 'sprite' && theValue === true ) fieldPair.scale = p.currentObject3D.scale.x * 10; // if we convert into sprite we better scale or it will look tiny\n        if ( p.input.option === 'sprite' && !theValue ) fieldPair.scale = p.currentObject3D.scale.x / 10; // the other way as well.\n        p.updateObjectSingleData( p.currentObject3D.name, fieldPair);\n    }\n\n    const viewInput = function() {\n        switch (p.input.type) {\n            case \"image\":\n                return <InputGroup >\n                    <InputGroup.Prepend> <InputGroup.Text>{p.input.label}</InputGroup.Text></InputGroup.Prepend>\n                    <FilePicker \n                extensions={['jpg', 'jpeg', 'png', 'gif', 'svg']}\n                dims={{minWidth: 100, maxWidth: 2500, minHeight: 100, maxHeight: 2500}}\n                onChange={base64 => p.updateObjectSingleData( p.currentObject3D.name, { [p.input.option]: p.imgPath+base64.name}) }\n                onError={ errMsg => alert(errMsg) }\n            >\n                <Button variant='primary'>\n                Select image\n                </Button >\n                </FilePicker>\n                <Button variant='danger' onClick={ (e) => { wrapperUpdateObjectSingleData(null) } }>\n                    Clear\n                </Button >\n                <InputGroup.Append> <InputGroup.Text>{p.getOptionsByObject3D(p.currentObject3D, p.input.option)}</InputGroup.Text></InputGroup.Append>\n                </InputGroup>\n            case \"input\":\n                return <form onSubmit={ (e) => { e.preventDefault(); wrapperUpdateObjectSingleData(e.currentTarget.querySelector('input').value) } }\n>\n                    <InputGroup>\n                        <InputGroup.Prepend> <InputGroup.Text>{p.input.label}</InputGroup.Text></InputGroup.Prepend>\n                        <FormControl as='input' defaultValue={p.getOptionsByObject3D(p.currentObject3D, p.input.option)}  />\n                        <InputGroup.Append><InputGroup.Text> {p.getOptionsByObject3D(p.currentObject3D, p.input.option)} </InputGroup.Text> </InputGroup.Append>\n                    </InputGroup>\n                </form>\n            case \"number\":\n                return  <form onSubmit={ (e) => { e.preventDefault(); wrapperUpdateObjectSingleData(e.currentTarget.querySelector('input').value) } }\n                                >\n                            <InputGroup>\n                                <InputGroup.Prepend> <InputGroup.Text>{p.input.label}</InputGroup.Text></InputGroup.Prepend>\n                                <Form.Check type=\"number\" step={ p.input.step?? 1 }\n                                    defaultValue={p.getOptionsByObject3D(p.currentObject3D, p.input.option)} />\n                                <InputGroup.Append><InputGroup.Text> {p.getOptionsByObject3D(p.currentObject3D, p.input.option)} </InputGroup.Text> </InputGroup.Append>\n                            </InputGroup>\n                        </form>\n            case \"checkbox\":\n                return <Form.Group >\n                <Form.Check type=\"checkbox\" label={p.input.label + `(${p.getOptionsByObject3D(p.currentObject3D, p.input.option)})`}\n                            defaultChecked={p.getOptionsByObject3D(p.currentObject3D, p.input.option) === p.input.checkedValue() || p.input.deleteIfValue === p.input.checkedValue() }\n                                onChange={ (e) => {\n                                    const value = e.currentTarget.checked? p.input.checkedValue(p.currentObject3D) : p.input.uncheckedValue(p.currentObject3D) ;\n                                    wrapperUpdateObjectSingleData(value);                                            \n                                } } />\n                </Form.Group>\n            case \"select\":\n                return <InputGroup>\n                     <InputGroup.Prepend> <InputGroup.Text>{p.input.label}</InputGroup.Text></InputGroup.Prepend>\n                    <FormControl as='select' defaultValue={p.getOptionsByObject3D(p.currentObject3D, p.input.option)}\n                                        onChange={ (e) => wrapperUpdateObjectSingleData(e.target.value) }>\n                                <option key='nothing' value='' >---</option>\n                                {   \n                                    (typeof p.input.options === 'object') ? Object.keys(p.input.options)?.map( option => { \n                                        return <option key={option} value={ p.input.options[option] } >{ option }</option>\n                                    }) : null\n                                }\n                    </FormControl>\n                    <InputGroup.Append><InputGroup.Text> {p.getOptionsByObject3D(p.currentObject3D, p.input.option)} </InputGroup.Text> </InputGroup.Append>\n                </InputGroup>\n            default:\n            break;\n        }\n    }\n\n    return viewInput();\n}\n","import React, {useEffect, useState, createRef} from 'react';\n\nimport InputData from './InputData';\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\n\nfunction EditObject2( p ) {\n\n    const [imgPath, setImgPath] = useState( window.plImgPath?? 'resources/'); // imgs for 3d textures\n    const refImgPathInput = createRef();\n\n    // Important note. Inside a new EventListener, we can't access to updated props. The props will always have the initial value\n    // That's why I use window.selectedObj instead of p.currentObject3D, to access to the lastest Position.\n\n    // triggered on load, only once.\n    useEffect(() => { \n        if (!window.pl) return;\n        console.log('pl updated in edit', window.pl);\n        const v = window.pl.viewer;\n        v.renderer.domElement.addEventListener('mousedown', (event) => { handlerPickupObject(event) });\n\n        // --- move object \n        v.renderer.domElement.addEventListener('mousemove', function (event) {\n            if (!window.selectedObj) return;\n            let newPos = p.reactGetMouse3Dposition(event, window.pl);\n            if (!newPos) return;\n            const v = new window.THREE.Vector3(...newPos).normalize().multiplyScalar(window.selectedObj.distance);\n            newPos = [v.x, v.y, v.z];\n            window.pl.setObjectPos(window.selectedObj, newPos);\n        });\n        v.renderer.domElement.addEventListener('mouseup', (event) => { handlerDropObject(event) });\n        document.addEventListener('keydown', (event) => { handlerScaleRotateObject(event) } );\n        \n    }, [p.plOptions] );\n\n    // --- pickup object \n    const handlerPickupObject = (event) => {\n        if ( !p.isEditMode ) return;\n        if (window.pl.shiftIsPressed) return;\n\n        const v = window.pl.viewer;\n        \n        const intersects = v.raycaster.intersectObject( v.panorama, true );\n        const theObj = intersects[0]? intersects[0].object : null ;\n        if (!theObj.type?.startsWith('pl_')) return;\n\n        theObj.distance = v.camera.position.distanceTo(theObj.position);\n        window.selectedObj = theObj;\n        console.log('Edit Object cLicked', window.selectedObj.name);\n        \n        v.OrbitControls.enabled = false;\n        window.selectedObj.originalPos = window.selectedObj.position;                \n        \n        // State: assign lastSelectedObj and update state currentObject3D\n        p.selectObject(theObj);\n    }\n\n    // --- drop object \n    const handlerDropObject = (event) => {  \n        if ( !p.isEditMode || !window.selectedObj) return;\n        if (!window.selectedObj.type.startsWith('pl_')) return;\n        const v = window.pl.viewer;\n        v.OrbitControls.enabled = true;\n        // p.singleObject3DToParams(window.selectedObj);\n        p.singleObject3DToParams(window.selectedObj);\n        window.selectedObj = null;\n    };\n\n    const handlerScaleRotateObject = function(event) {\n        // we cant use the state currentObject3D, because it will not get the latest value. It will be initialzied to the time of creation og this handler\n        if (!window.lastSelectedObj) return;\n        if (event.ctrlKey) {\n            switch (event.key) {\n                case '+': window.lastSelectedObj.scale.set( window.lastSelectedObj.scale.x * p.editParams.SCALE_FACTOR, window.lastSelectedObj.scale.y * p.editParams.SCALE_FACTOR, window.lastSelectedObj.scale.z * p.editParams.SCALE_FACTOR );      break;\n                case '-': window.lastSelectedObj.scale.set( window.lastSelectedObj.scale.x / p.editParams.SCALE_FACTOR, window.lastSelectedObj.scale.y / p.editParams.SCALE_FACTOR, window.lastSelectedObj.scale.z / p.editParams.SCALE_FACTOR );      break;\n                case 'r': window.lastSelectedObj.rotation.z += p.editParams.ROTATE_DEG;  break;\n                case 't': window.lastSelectedObj.rotation.z -= p.editParams.ROTATE_DEG;  break;\n                case 'f': window.lastSelectedObj.rotation.y += p.editParams.ROTATE_DEG;  break;\n                case 'g': window.lastSelectedObj.rotation.y -= p.editParams.ROTATE_DEG;  break;\n                case 'v': window.lastSelectedObj.rotation.x += p.editParams.ROTATE_DEG;  break;\n                case 'b': window.lastSelectedObj.rotation.x -= p.editParams.ROTATE_DEG;  break;\n                case '4': z_move(window.lastSelectedObj, 'close'); break;\n                case '5': z_move(window.lastSelectedObj, 'far'); break;\n                default:\n                    break;\n            }\n            if (event.key === 'r' || event.key === 't' || event.key === 'f' || event.key === 'g' || event.key === 'v' || event.key === 'b') {\n                if (window.lastSelectedObj.constructor.name === 'Infospot')\n                    p.setInfo('Sprite object cannot be rotated'); \n            }\n            p.setCurrentObject3D(window.lastSelectedObj);\n            if (window.waitSave) {\n                clearTimeout(window.waitSave);\n                window.waitSave = setTimeout( () => {\n                    p.singleObject3DToParams(window.lastSelectedObj);\n                    clearTimeout(window.waitSave);\n                    p.setInfo('updated');\n                }, 500);\n            }\n            \n        }\n    }\n\n    // move an object closer or farther from the camera.\n    function z_move(object3D, direction = 'close'){\n        let offset = 1.02;\n        if (direction === 'close') offset = 1/offset;\n                    \n        var newPos = object3D.position.clone();\n        newPos.x *= offset; newPos.y *= offset; newPos.z *= offset;\n        const distance = window.pl.viewer.camera.position.distanceTo(newPos);\n        if ( (direction !== 'close' && distance > 500) || (direction === 'close' && distance < 40)) {\n            console.warn('we cant move that limit. Its out of 40 - 500m');\n            return\n        }\n        window.pl.setObjectPos(object3D, [newPos.x, newPos.y, newPos.z]);\n    }\n\n    \n    const panoList = {}; // for the `link` option below\n    if (p.plOptions)\n    p.plOptions.worlds.forEach( world => panoList[world.name] = world.name  );\n    const inputs = [\n        [\n            { option: 'image', type: 'image', label:'Img', active: [ 'pl_poster3d' ], deleteIfValue:'' },\n            { option: 'alpha', type: 'image', label:'Alpha', active: [ 'pl_poster3d' ], deleteIfValue:'' },\n            { option: 'text', type: 'input', label:'Text', active: [ 'pl_text-2d', 'pl_text-3d'] },\n            \n            { option: 'background', type: 'input', label:'bg color (#ffffff)', active: [ 'pl_text-2d' ] },\n            { option: 'alwaysLookatCamera', type: 'checkbox', label:'alwaysLookatCamera', checkedValue: () => true, uncheckedValue: () => false, active: [ 'pl_text-2d', 'pl_text-3d', 'pl_poster3d' ], deleteIfValue: true },\n            { option: 'sprite', type: 'checkbox', label:'sprite 2D', checkedValue: () => true, uncheckedValue: () => null, active: [ 'pl_text-2d', 'pl_poster3d' ], deleteIfValue: false },\n            { option: 'posterSphere', type: 'checkbox', label:'is sphere', checkedValue: () => true, uncheckedValue: () => null, active: [ 'pl_text-2d', 'pl_poster3d' ], deleteIfValue: false },\n            { option: 'link', type: 'select', options: panoList, label:'Go to pano', active: [ 'pl_text-2d', 'pl_poster3d', 'pl_text-3d'], deleteIfValue: '' },\n            { option: 'modal', type: 'input', label:'modal', active: [ 'pl_poster3d', 'pl_text-2d', 'pl_text-3d'], deleteIfValue:'' },\n            { option: 'opacity', type: 'number', step: 0.05, label:'Opacity', active: [ 'pl_text-2d', 'pl_poster3d', 'pl_text-3d'], deleteIfValue: '1' },\n        ],\n        [\n        { option: 'animatedMap', type: 'number', label:'frames animation map', active: [ 'pl_poster3d' ], deleteIfValue: '' },\n        { option: 'animatedMapSpeed', type: 'number', label:'speed', active: [ 'pl_poster3d' ], deleteIfValue: '' },\n        { option: 'rotationX', type: 'number', label:'Rotate anim X', step: 100, active: [ 'pl_text-2d', 'pl_poster3d', 'pl_text-3d'], deleteIfValue: '' },\n        { option: 'rotationY', type: 'number', label:'Rotate anim Y', step: 100, active: [ 'pl_text-2d', 'pl_poster3d', 'pl_text-3d'], deleteIfValue: '' },\n        { option: 'rotationZ', type: 'number', label:'Rotate anim Z', step: 100, active: [ 'pl_text-2d', 'pl_poster3d', 'pl_text-3d'], deleteIfValue: '' },\n        { option: 'animated', type: 'select', label:'Glow animation', options: { 'always' : 'always', 'only on hover' : 'hover' }, active: [ 'pl_text-2d', 'pl_poster3d', 'pl_text-3d'], deleteIfValue: '' },\n        { option: 'popupWhenVisible', type: 'number', step: 10, label:'Pops up when in camera', active: [ 'pl_text-2d', 'pl_poster3d', 'pl_text-3d'], deleteIfValue: '' },\n        ]\n    ];\n    return (\n      <Container>\n        {p.currentObject3D? \n        <div className=\"position-absolute\" style={{ marginTop: '-30px'}}>\n            <span role=\"img\" aria-label='c'>‚¨ÜÔ∏è</span>\n            { p.getOptionsByObject3D(p.currentObject3D, 'name') } <small>{p.getOptionsByObject3D(p.currentObject3D, 'type')}</small>\n            <form className='float-left' onSubmit={ (e)=> { \n                e.preventDefault();\n                const value = e.currentTarget.querySelector('input').value;\n                p.updateObjectSingleData( p.currentObject3D.name, { name: value} );\n                }}>\n            <FormControl as='input' defaultValue={ p.getOptionsByObject3D(p.currentObject3D, 'name') } />\n            </form>\n        </div> : null }\n            \n        <InputGroup>\n            <InputGroup.Prepend> <InputGroup.Text>imgs path</InputGroup.Text></InputGroup.Prepend>\n            <FormControl as='input' defaultValue={imgPath} ref={refImgPathInput} \n                        onChange={ (e) => refImgPathInput.current? setImgPath(refImgPathInput.current.value) : null } />\n            <InputGroup.Append><InputGroup.Text> {imgPath} </InputGroup.Text> </InputGroup.Append>\n        </InputGroup>\n        <Row>\n            {\n                inputs.map( (inputsCol, col_i) => {\n                    return <Col sm='6' key={'column-'+col_i}>\n                        { \n                            inputsCol.map( (input, i) => {\n                                if ( !p.currentObject3D ) return null;\n                                if ( !input.active.includes(p.currentObject3D.type) ) return null;\n                                return <InputData   input={input} imgPath={imgPath} key={'input-'+i}\n                                                    updateObjectSingleData={p.updateObjectSingleData} \n                                                    currentObject3D={p.currentObject3D}\n                                                    getOptionsByObject3D={p.getOptionsByObject3D} />\n                            } )\n                        }\n                    </Col>\n                })\n            }\n        </Row>\n        \n\n      </Container>        \n  );\n}\n\nexport default EditObject2;\n","import React, {useState, useEffect} from 'react'\n\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col'\n\nexport default function ListObjects(p) {\n    const [init, setInit] = useState(null);\n    useEffect(() => {\n        console.log('üö¥üèº‚Äç‚ôÄÔ∏èHello from ListObjects')\n        setInit(p.getCurrentPanoramaParams());\n    }, [p.plOptions])\n\n    const getObjectsShowWhenVisible = function() {\n        if (!window.pl) return 'not loaded';\n        if (!window.pl.viewer.panorama.objectsToPopupWhenVisible) return 'none';\n        const jsx = <div> {Object.keys(window.pl.viewer.panorama.objectsToPopupWhenVisible).map( k=>{\n            const [min,max] = window.pl.viewer.panorama.objectsToPopupWhenVisible[k];\n            return <p key={k}>{k} : {min}¬∫, {max}¬∫</p>;\n        })} </div>\n        return jsx;\n    }\n    return (\n        <Col className='list-objects' sm='2'>\n            List Hotposts in Pano Options\n            {init && p.plOptions?.worlds ? \n            <ul>\n                { init.hotspots.map((element,i) => {\n                    return <li key={i} onClick={ () => {\n                        // get object 3d\n                        const theObj = window.pl.getObjectByName(element.name);\n                        p.selectObject(theObj);\n                    }} className={ (p.currentObject3D?.name === element.name )? 'active' : '' }>\n                        {element.name} <small>{element.type}</small>\n                    </li>\n                })}\n            </ul>\n            : null }\n\n           <br/> { /** curiously this works, I dont need to use any State, it works ok with the pl object fn. \n                    *    It is because of the mousemove event in App.js. It makes recalculate this component aparently\n                    */}\n           Camera: { window.pl? window.pl.getCameraDirection('lookatPoint').join(', ')  : null }\n           <br/>\n           Angle: { window.pl? Math.round(window.pl.getCameraDirection('rad') * 100)/100 : null }\n             rad :: { window.pl? Math.round(window.pl.getCameraDirection('deg')) : null }¬∫\n            <br/>\n            Fov: { window.pl? window.pl.viewer.camera.fov : null }\n            <br/>\n            MousePos: { p.editParams.currentMouse3DPosition.join(', ') }\n            <br/>\n            <br/>\n            <i>panorama.objectsToPopupWhenVisible:</i> { init? getObjectsShowWhenVisible() : null }\n        </Col>\n    )\n}\n","import {useEffect, useState} from 'react';\n\n\nfunction Widgets( p ) {\n\n    const v = window.pl?.viewer;\n    const [isWidgetsInit, setIsWidgetsInit ] = useState(false);\n    const initWidgets = function() {\n        if (isWidgetsInit) return;\n        setIsWidgetsInit(true);\n        if (typeof window.basePath === 'undefined') window.basePath = './';\n        // Widgets\n        // Create poster buttons. One for every type.\n        Array.from([ /*'link', */\n                    // 'poster-sprite', // type poster3d + sprite = true\n                    'poster3d',\n                    'poster3d-sphere', // type poster3d + posterSphere = true\n                    'text-3d', // doesnt work\n                    'text-2d',\n                   // 'text-2d-sprite' // type text-2d + sprite = true \n            ] ).forEach( type => {\n                v.appendControlItem({\n                    id: 'edit-controls',\n                    style: {\n                        backgroundImage: 'url('+window.basePath+'resources/widget-'+type+'.png)',\n                        float: 'left'\n                    },    \n                    onTap: () => { \n                        const { newObj, objectData } = initNewObject( type );\n                        console.log('Created new obj: ', { newObj, objectData })\n                    },\n                    group: 'editmode'\n                });\n        })\n    }\n    useEffect(() => {\n        console.log('Hellow from widgets');\n        if (window.pl && p.isEditMode) \n            //if (!p.pl.viewer.widget) \n                initWidgets() // TODO: if deactivate and reactivate the editmode, the widgets are created again (duplicated)\n                // we can use pl.viewer.widget.barElement.remove() when deactivated to delete the previous ones. But ideally we could avoid calling this init if they exist.\n    }, [p.countResets]);\n\n\n\n    const initNewObject = function(type = 'poster3d') {\n        // get Scene by name:\n        const params = {\n            name:  `new_${type}_` + Math.floor(Math.random() * 10000),\n            type: type,\n            pos: Object.values(v.camera.getWorldDirection(new window.THREE.Vector3()).multiplyScalar(300)), // this normalizes but not to unitary, but to 300 long\n        }\n        switch (type) {\n            // case 'link': break;\n            case 'poster3d': \n                params.image = window.basePath+'resources/poster3.jpg';\n            break;\n            case 'poster3d-sphere': \n                params.image = window.basePath+'resources/poster3.jpg';\n                params.type = 'poster3d';\n                params.posterSphere = true;\n            break;\n            //  case 'poster-sprite': \n            //     params.type = 'poster3d';\n            //     params.sprite = true; \n            //     break;\n            case 'text-2d': \n                params.text = \"New text\"; \n                break;\n            // case 'text-2d-sprite': \n            //     params.type = 'text-2d';\n            //     params.sprite = true; \n            //     params.text = \"New text\"; \n            //     break;\n            case 'text-3d': // doesnt work\n                params.type = 'text-3d';\n                params.fontFamily = window.basePath+'resources/fonts/Century_Gothic_Regular.js';\n                params.text = \"New text\";\n                break;\n            default: break;\n        }\n\n        // posterlens fn\n        window.pl.createNewObjectFromParams(v.panorama, params);\n\n        // update states object 3d in viewer & object params for posterlens\n        const newObj = window.pl.viewer.panorama.getObjectByName(params.name);\n        p.setCurrentObject3D(newObj);\n        // update posterlens option\n        \n        // update the option settings\n        let worldParams = p.getCurrentPanoramaParams();\n        worldParams.hotspots.push(params);\n        const newPlOptions = p.plOptionsReplaceWorldParams(worldParams);\n        p.setPlOptions(newPlOptions);\n        \n        \n        \n        return { newObj, params } ;\n    }\n\n  // its all vanilla js, connecting with panolens. No HTML\n  return (\n    null\n  );\n}\n\nexport default Widgets;\n","export function round2(fl) { \n    var numb = fl;\n    if (typeof numb === 'number')\n     numb = numb.toFixed(2);\n    return numb;\n    //return 0.001;\n }\n","import React from 'react'\nimport {round2} from '../helpers';\nexport default function ObjectInfo(p) {\n    // info in a panel of the object. Gets updated when the currentObject3D updates. It means , when it's clicked for instance.\n    function currentObjectOptions() {\n        if (!p.currentObject3D) return;\n        const worldParams = p.getCurrentPanoramaParams();\n        let objectOptions = worldParams.hotspots.find( ht => ht.name === p.currentObject3D?.name );\n        return objectOptions;\n    }\n    function currentObjectOptionsJSX() {\n        const objectOptions = currentObjectOptions();\n        var exportStr = objectOptions? JSON.stringify(objectOptions, false, 2) : 'no sel';\n        var lines = exportStr.split('\\n');\n        var jsx = [];\n        lines.forEach((line, i)=> { jsx.push(line); jsx.push(<br key={'return-'+i} />); } )\n        return jsx;\n    }\n    return (\n        <div className='object-info position-absolute'>\n            <h4>{p.currentObject3D?.name}<small> ({p.currentObject3D?.type})</small></h4>\n            Pos: {round2(p.currentObject3D?.position.x)} {round2(p.currentObject3D?.position.y)} {round2(p.currentObject3D?.position.z)}\n            <br/>\n            Rot: x {round2(p.currentObject3D?.rotation.x)} / y {round2(p.currentObject3D?.rotation.y)} / z {round2(p.currentObject3D?.rotation.z)}\n            { currentObjectOptions()?.alwaysLookatCamera? '(alwayslookatcamera)' : null }\n            <br/>\n            Scale: {round2(p.currentObject3D?.scale.x)} {round2(p.currentObject3D?.scale.y)} {round2(p.currentObject3D?.scale.z)}\n            \n            <br/>\n            <b>Object Info in options:</b> <br/>\n            {currentObjectOptionsJSX() }\n        </div>\n    )\n}\n","import React, {useState, useEffect, createRef} from 'react';\nimport EditObject2 from './EditObject2';\nimport ListObjects from './ListObjects';\nimport Widgets from './Widgets';\nimport ObjectInfo from './ObjectInfo';\nimport {round2} from '../helpers';\n\n// Bootstrap 4\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nexport default function AppEditPosterlens( { data, setAppMode, globalVars } ) {\n\n  // React states and refs\n  const [plOptions, setPlOptions] = useState(); // IMPORTANT. The goal of all this app is to generate these options. With them we can call posterlens to createa  tour.\n  const [currentObject3D, setCurrentObject3D] = useState(null); // The current THREEjs selected object. Sometimes we use pl.lastSelectedObj, because there are events outside REACT that can't use the State\n  const [isEditMode, setIsEditMode] = useState(false); // In this app, it's always true\n  const [editParams, setEditParams] = useState( {\n    POSTERLENS_CONTAINER_ID: 'posterlens-container',\n    SCALE_FACTOR : 1.01,\n    ROTATE_DEG : 0.05, // radians. 3.1416 is 180 deg.\n    currentMouse3DPosition: [0,0,0],\n    AUTO_START_EDIT_MODE : 1,\n  } );\n  const [appBasePath, setAppBasePath] = useState( window.basePath?? './');  // \n  const [countRestarts, setCountRestarts] = useState(0); // not important\n  const [info, setInfo] = useState('');\n\n  var refContainer = createRef();\n  var refContainerParent = createRef();\n\n  \n\n\n\n  // React Life cycle. INIT\n  \n  useEffect(() => {\n    console.log('hello from useEffect in App');\n    // create the interactive 3d viewer with posterlens\n    createViewer();\n    setCountRestarts(1); // small helper\n  }, []);\n  \n  // called on init and restart\n  useEffect(() => {\n    // initialize this react plugin to make that viewer interactive.\n    if (window.pl)\n      if (editParams.AUTO_START_EDIT_MODE) \n        setIsEditMode(true);\n  }, [countRestarts]);\n\n  //  a simple msg\n  useEffect( () => {\n    if (info !== '') setTimeout( () => setInfo(''), 2000 );\n  }, [info])\n\n  useEffect( () => {\n    if (!currentObject3D) return;\n    \n    localStorage.setItem('lastSelectedObj.name', currentObject3D.name);\n    // currentObject3D.material.blending = 2;\n  }, [currentObject3D])\n  \n  // Methods helpers\n\n  // x,y,z of mouse inside the 3d world. posterlens has this functions, but it doesnt work if I call it in onmousemove.\n  const reactGetMouse3Dposition = function(event) {\n    if (!window.pl) return\n    const v = window.pl.viewer;\n    if (!v) { console.warn('Cant retrieve mouse pos, not viewer defined'); return; }\n\n    const intersects = v.raycaster.intersectObject( v.panorama, true );\n    if ( intersects.length <= 0 ) return;\n    let i = 0;\n    while ( i < intersects.length ) {\n        if (intersects[i].object.name === 'invisibleWorld') {\n            const point = intersects[i].point.clone();\n            const world = v.panorama.getWorldPosition( new window.THREE.Vector3() );\n            point.sub( world );\n            const currentMP = [ Math.round(point.x.toFixed(2)/2), Math.round(point.y.toFixed(2)/2), Math.round(point.z.toFixed(2)/2) ];\n            setEditParams( Object.assign( {}, editParams, { currentMouse3DPosition: currentMP } ) );\n            return currentMP;        \n            \n        }\n        i++;\n    }\n  }\n  \n  \n  // handlers\n\n    // CALL to posTERLENS\n  function createViewer() {\n    var posterlensConfig = {}\n    if (!data) console.log('data variable not found.')\n    else posterlensConfig = data; // `data` is loaded with external file tat sets up `var data = {..}`\n    \n    // load from cache by default\n    var retrievedOptions = JSON.parse( localStorage.getItem('pl.o') ); //retrieve the object to load cache\n//    console.log(retrievedOptions.worlds[0].hotspots[7].rot);\n    posterlensConfig = (retrievedOptions?.worlds) ? retrievedOptions : posterlensConfig;\n    if (!posterlensConfig) {\n      console.error('No data loaded. Cant initialize');\n      return;\n    }\n\n    // CALL POSTERLENS\n    window.pl = document.querySelector('#'+editParams.POSTERLENS_CONTAINER_ID).posterlens( posterlensConfig );\n    setPlOptions(window.pl.o);\n    window.pl.viewer.panorama.addEventListener('load', () => {\n      // init also selected obj if it was selected before\n      const lso = localStorage.getItem('lastSelectedObj.name');\n      if (lso) {\n        const selObj = window.pl.getObjectByName(lso);\n        if (selObj) setCurrentObject3D(selObj);\n      }\n      // Debug with chrome three inspector.\n      window.scene = window.pl.viewer.getScene();\n\n     if (isEditMode) window.stopAllAnimations(window.pl.viewer);\n\n    });\n  }\n\n  useEffect( () => { \n    window.pl.viewer.editMode = isEditMode;\n  }, [isEditMode]);\n  \n  function restartViewer() {\n    destroyViewer();\n    setPlOptions(null);\n    setIsEditMode(false);\n    delete(window.pl);\n    createViewer();\n    setCountRestarts(countRestarts + 1);\n    // and widgets are rerenderr because its key is associated to countRestarts, so they are loaded ok.\n  }\n\n  // helpers\n  function getOptionsByObject3D(object3D, option = null) {\n    const currentWorldOptions = getCurrentPanoramaParams();\n    let objectData = currentWorldOptions.hotspots.find( ht => ht.name === object3D?.name );\n    if (objectData && option) return objectData[option];\n    return objectData;\n  }\n  function getCurrentPanoramaParams() {\n    return plOptions.worlds.find( w => w.name === window.pl.viewer.panorama.name );\n  }\n  function getCurrentPanoramaParamsIndex() {\n    return plOptions.worlds.findIndex( w => w.name === window.pl.viewer.panorama.name );\n  }\n  // returns all pl with the new worldparmas at the place of the current panorama params\n  function plOptionsReplaceWorldParams(worldParams) {\n    const newOptions = Object.assign({}, plOptions);\n    newOptions.worlds[getCurrentPanoramaParamsIndex()] = {...worldParams};\n    return newOptions;\n  }\n  // returns all pl options replacing the hotspots in current panorama with that name\n  function plOptionsReplaceWorldParamsHotspot(name, objectData) {\n    const currentWorldParams = getCurrentPanoramaParams();\n    const getHotspotIndex   = currentWorldParams.hotspots.findIndex(ht => ht.name === name);\n    if ( getHotspotIndex < 0 ) return;\n    const newHotspots = [...currentWorldParams.hotspots];\n    newHotspots[getHotspotIndex] = objectData;\n    currentWorldParams.hotspots = newHotspots;\n    return plOptionsReplaceWorldParams(currentWorldParams);\n  }\n\n  // updates plOptions (the js object with all the config to load posterlens).\n  // updates the react state and the localstorage (it can be used outside of react)\n  function syncPlOptionsAndLocalStorage(plOptions) {\n    setPlOptions(plOptions);\n    var exportStr = JSON.stringify(plOptions, false, 2);\n    localStorage.setItem('pl.o', exportStr);\n    if (window.onSavePlOptionsCallback) window.onSavePlOptionsCallback(plOptions); // this fn is passed from outside react, and it can be useful\n    return exportStr;\n  }\n\n  // Object 3d in viewer ===> Options in pl.\n  // =======================> Options pl\n  function singleObject3DToParams(object3D) {\n  \n\n    // const worldParams = getCurrentPanoramaParams();\n    // let objectHotspotIndex = worldParams.hotspots.findIndex( ht => ht.name === object3D?.name );\n    // if (objectHotspotIndex < 0 ) {\n    //   // not found, we create it. This will never happen. And if it did , it would be wront. It should create more than a name.\n    //   worldParams.hotspots.push({ name: object3D.name });\n    //   objectHotspotIndex = worldParams.hotspots.length - 1;\n    //   //return;\n    // }\n\n    const objectCurrentParams = getOptionsByObject3D(object3D); // worldParams.hotspots[objectHotspotIndex];\n    const objectNewParams     = {...objectCurrentParams};\n\n    if (!objectCurrentParams) { alert('error: no objectCP'); return; }\n    // pos, scale and rot\n    objectNewParams.pos = [round2(object3D.position.x), round2(object3D.position.y), round2(object3D.position.z)];\n    objectNewParams.rot = [round2(object3D.rotation.x), round2(object3D.rotation.y), round2(object3D.rotation.z)];\n    // if (object3D.name === 'TEST') debugger\n    objectNewParams.scale = round2(object3D.scale.x);\n    // map params from object into options:\n\n    const defaults = { 'opacity': 1, 'animatedMap': 1 }\n    const mapParams = {\n      'opacity': 'material.opacity',\n      'type' : 'type',\n    }\n    \n    // special params for type\n    switch (object3D.type) {\n      case 'pl_text-3d': \n        mapParams.emissive = 'material.emissive';\n        mapParams.transparent = 'material.transparent';\n        break;\n      case 'pl_text-2d-sprite': \n      case 'pl_text-2d': \n        mapParams.color = 'material.color';\n        break;\n      case 'pl_poster3d': \n        // mapParams.animatedMap = 'material.transparent';\n      default:\n      break;\n    }\n\n    // foreach field in the object 3d we save it as an option param\n    Object.keys(mapParams).forEach( option => {\n      const obFields = mapParams[option].split('.');\n      var currentField = object3D; // currentField has the value in the object 3d. ie, for field opacity, it has 0.5\n      obFields.forEach( field => currentField = currentField[field] ); // currentfield = \"resources/img.jpg\"\n      // fix if it's a color (rgb object): convert into string\n      // if (currentField.hasOwnProperty('r') && currentField.hasOwnProperty('g')) currentField = currentField.getHexString();\n      // fix type. In object has prefix pl_\n      if (option==='type') currentField = currentField.replace('pl_', '');\n      // if (option==='background') currentField = currentField? currentField : 'transparent';\n      \n\n      if (currentField === null && objectNewParams.hasOwnProperty(option)) \n        delete(objectNewParams[option]);\n      else {\n        if (defaults.hasOwnProperty(option)) { // save only if it not default\n          if (defaults[option] != currentField) \n            objectNewParams[option] = currentField; // { \"image\" : \"resources/img.jpg\" }\n        } else\n          objectNewParams[option] = currentField;\n      }\n    } );\n\n    // params only in options and not visible from object 3D (we need a panel and an input to edit it)\n    // image, animatedMap, animatedMapSpeed, alwaysLookatCamera, text, hoverText, link\n    \n\n    // update pl with the new options\n    // const newOptions = Object.assign({}, plOptions);\n    // newOptions.worlds[getCurrentPanoramaParamsIndex()].hotspots[objectHotspotIndex] = objectNewParams;\n    const newOptions = plOptionsReplaceWorldParamsHotspot(object3D.name, objectNewParams);\n    syncPlOptionsAndLocalStorage(newOptions);\n    \n    return objectNewParams;\n\n  }\n\n  // when picking up the object iwth mouse or from list of objects.\n  function selectObject(theObj) {\n    if (!theObj) return false;\n    // if (currentObject3D) currentObject3D.material.blending = 1;\n    window.lastSelectedObj = theObj;\n    setCurrentObject3D( theObj );\n    // look at the object, I dont know how to do it\n  }\n\n  // remove from data and in viewer\n  function removeCurrentObject() {\n    if (!currentObject3D) return;\n    const currentWorldOptions = getCurrentPanoramaParams();\n    const currentWorldOptionsIndex = getCurrentPanoramaParamsIndex();\n    let objectHotspotIndex = currentWorldOptions.hotspots.findIndex( ht => ht.name === currentObject3D.name );\n    let newPlOptionsHotspots = [...currentWorldOptions.hotspots];\n    let hotspotIndex = newPlOptionsHotspots.findIndex( ht => ht.name === currentObject3D.name );\n    newPlOptionsHotspots.splice(hotspotIndex,1); //delte in array\n    const newO = {...plOptions};\n    newO.worlds[currentWorldOptionsIndex].hotspots = newPlOptionsHotspots;\n    syncPlOptionsAndLocalStorage(newO);\n    window.pl.viewer.panorama.remove( currentObject3D );\n    window.pl.viewer.panorama.remove( window.pl.viewer.scene.getChildByName(currentObject3D.name) ); // just in case (somethimes it doesn delete)\n    setCurrentObject3D(null);\n  }\n\n  // clone in data and reload the viewer.\n  function cloneCurrentObject() {\n    if (!currentObject3D) return;\n    const objectCurrentParams = Object.assign({}, getOptionsByObject3D(currentObject3D));\n    const currentWorldParams  = getCurrentPanoramaParams();\n    objectCurrentParams.name = \"cloned_\"+ objectCurrentParams.name;\n    objectCurrentParams.pos = [ objectCurrentParams.pos[0], objectCurrentParams.pos[1] + 50, objectCurrentParams.pos[2]]\n    currentWorldParams.hotspots.push(objectCurrentParams);\n    const newPlOptions = plOptionsReplaceWorldParams(currentWorldParams);\n    syncPlOptionsAndLocalStorage(newPlOptions);\n    // we need to restart the viewer to create it.\n    restartViewer();\n  }\n\n  // shows modal with all the options\n  function exportToTextarea() {\n    var exportStr = JSON.stringify(plOptions, false, 2);\n    var textA = document.createElement( 'textarea' );\n    textA.textContent = exportStr;\n    textA.style.width = '100%'\n    textA.style.height= '500px';\n    window.pl.Modal('Export JSON', textA);\n  }\n\n    // args (inputs) ===> Options data\n    // given name of object and updated fields in the way { link : \"Hall\" }, we update the p.currentObjectData and the worldOptions\n    // in some cases, sync the 3d model with the new data in the case of the name.\n    const updateObjectSingleData = function( name, fields = {}, regenerate = true ) { \n      \n      const currentWorldOptions = getCurrentPanoramaParams();\n      let objectHotspotIndex = currentWorldOptions.hotspots.findIndex( ht => ht.name === name );\n      if (objectHotspotIndex < 0 ) return;\n      // update the field\n      let objectData = currentWorldOptions.hotspots.find( ht => ht.name === name ); // all fields => { name: '', type: '' ... }\n      objectData = Object.assign({}, objectData, fields );\n      Object.keys(objectData).forEach( k =>  (objectData[k] === null)? delete(objectData[k]) : false ); // cleanup\n      const newPlOptions = plOptionsReplaceWorldParamsHotspot(name, objectData);\n      syncPlOptionsAndLocalStorage(newPlOptions);\n      \n      // regenerate the 3d object (remove and generate)\n      if (regenerate) {\n        const object = window.pl.getObjectByName(name);\n        if (name && window.pl.viewer.panorama && objectData ) {\n          window.pl.viewer.panorama.remove( object );\n          window.pl.createNewObjectFromParams(window.pl.viewer.panorama, objectData); // recreate the 3d in the viewer\n          const newObject = window.pl.getObjectByName(name);\n          setTimeout(()=>selectObject(newObject), 500);\n          \n        }\n        else {        \n          selectObject(object);\n        }\n      }\n  }\n\n\n\n\n  // remove all viewer. I should free up memory before...\n  function destroyViewer() {\n    document.querySelector('#'+editParams.POSTERLENS_CONTAINER_ID).innerHTML = '';\n  }\n\n  \n\n\n\n\n  return <React.Fragment>\n    { currentObject3D? <ObjectInfo currentObject3D={currentObject3D} getCurrentPanoramaParams={getCurrentPanoramaParams} /> : null }\n    { plOptions? <ListObjects currentObject3D={currentObject3D} plOptions={plOptions} selectObject={selectObject} editParams={editParams}\n                              setCurrentObject3D={setCurrentObject3D} getCurrentPanoramaParams={getCurrentPanoramaParams} /> : null }\n    <Container className='wrapper border pt-2' style={{ maxWidth:'1200px' }}>\n\n      { plOptions? \n        <Button className=\"btn-sm\" onClick={ e => restartViewer() }> RESET <span className=\"badge\">{countRestarts}</span> </Button>         : null } \n      { !isEditMode? \n        <Button className=\"btn-secondary ml-5 btn-sm\" onClick={ setIsEditMode(!isEditMode) }>Start Edit Mode</Button> : null } \n      { plOptions? \n        <Button className=\"btn btn-danger btn-sm\" onClick={ (e) => { localStorage.setItem('pl.o', null); restartViewer(); }  }>Clear cache </Button> : null }\n\n        <Button className=\"btn-secondary ml-5 btn-sm\" onClick={ () => exportToTextarea() }>Export</Button>\n\n        { currentObject3D? \n        <Button className=\"btn btn-danger btn-sm\" onClick={ removeCurrentObject }>Delete</Button> : null }\n        { currentObject3D? \n        <Button className=\"btn btn-success btn-sm\" onClick={ cloneCurrentObject }>Clone</Button> : null }\n\n        <Button variant=\"outline-primary btn-sm\" onClick={ (e)=> { window.stopAllAnimations(window.pl.viewer); e.target.remove() } }>Stop anim.</Button>\n        <Button variant=\"outline-secondary btn-sm\" onClick={ (e)=> setAppMode('demo') }>Demo</Button>\n\n      <Row className=\"no-gutters\" >\n        <Col sm={12}>\n          <div onMouseMove={ event => { reactGetMouse3Dposition(event); } } ref={refContainerParent}>\n           <div  id={editParams.POSTERLENS_CONTAINER_ID} className='posterlens-container' ref={refContainer}> </div>\n          </div>\n        </Col>\n        { isEditMode? \n                   <EditObject2 plOptions={plOptions} isEditMode={isEditMode} editParams={editParams} currentObject3D={currentObject3D} setCurrentObject3D={setCurrentObject3D} reactGetMouse3Dposition={reactGetMouse3Dposition} \n                                singleObject3DToParams={singleObject3DToParams} setInfo={setInfo} updateObjectSingleData={updateObjectSingleData}\n                                getCurrentPanoramaParams={getCurrentPanoramaParams} selectObject={selectObject} getOptionsByObject3D={getOptionsByObject3D}  />\n                : null }\n      </Row>\n\n\n      \n\n      \n      \n      {/* <Button className=\"btn-warning\" onClick={ () => localStorage.setItem('worldOptions', JSON.stringify(worldOptions))  }>Update</Button> */}\n      <div className='info' style={ {color: 'red'} }>{ info }</div>\n\n      \n\n      { isEditMode? <Widgets plOptions={plOptions} isEditMode={isEditMode} setIsEditMode={setIsEditMode}  \n                              setCurrentObject3D={setCurrentObject3D} plOptions={plOptions} singleObject3DToParams={singleObject3DToParams}\n                              refContainer={refContainer}\n                              key={countRestarts} restartViewer={restartViewer}\n                              plOptionsReplaceWorldParams={plOptionsReplaceWorldParams}\n                              getCurrentPanoramaParams={getCurrentPanoramaParams} setPlOptions={setPlOptions}\n                              \n                              /> : null }\n    </Container>\n    </React.Fragment>\n}\n","// This is the call of the React APP.\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n// import * as serviceWorker from './serviceWorker';\n\nconst containers = document.querySelectorAll('.wrapper-posterlens-edit-container');\ncontainers.forEach( (el,i)=>{\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    el\n  );\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}